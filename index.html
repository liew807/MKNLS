<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPMæˆå°±ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c2e 0%, #1a1a4a 50%, #0c0c2e 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(74, 110, 224, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(106, 74, 240, 0.1) 0%, transparent 50%);
            z-index: -1;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }
        
        .glowing-text {
            font-size: 48px;
            font-weight: bold;
            text-transform: uppercase;
            color: #fff;
            text-shadow: 
                0 0 5px #fff,
                0 0 10px #fff,
                0 0 15px #4a6ee0,
                0 0 20px #4a6ee0,
                0 0 25px #4a6ee0,
                0 0 30px #4a6ee0,
                0 0 35px #4a6ee0;
            animation: glow-pulse 2s infinite alternate;
            margin-bottom: 10px;
        }
        
        @keyframes glow-pulse {
            from {
                text-shadow: 
                    0 0 5px #fff,
                    0 0 10px #fff,
                    0 0 15px #4a6ee0,
                    0 0 20px #4a6ee0,
                    0 0 25px #4a6ee0,
                    0 0 30px #4a6ee0,
                    0 0 35px #4a6ee0;
            }
            to {
                text-shadow: 
                    0 0 10px #fff,
                    0 0 20px #fff,
                    0 0 30px #6a4af0,
                    0 0 40px #6a4af0,
                    0 0 50px #6a4af0,
                    0 0 60px #6a4af0,
                    0 0 70px #6a4af0;
            }
        }
        
        .subtitle {
            font-size: 20px;
            color: #a0a0e0;
            margin-bottom: 30px;
        }
        
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .achievement-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .achievement-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #4a6ee0, #6a4af0);
        }
        
        .achievement-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(74, 110, 224, 0.3);
            background: rgba(255, 255, 255, 0.12);
        }
        
        .achievement-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: #4a6ee0;
            text-align: center;
        }
        
        .achievement-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #fff;
        }
        
        .achievement-desc {
            color: #c0c0e0;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .achievement-progress {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 15px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4a6ee0, #6a4af0);
            border-radius: 4px;
            width: 0%;
            transition: width 1s ease;
        }
        
        .achievement-status {
            display: flex;
            justify-content: space-between;
            color: #a0a0e0;
            font-size: 14px;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #4a6ee0 0%, #6a4af0 100%);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
            text-align: center;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(74, 110, 224, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-unlock {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .btn-unlock:hover {
            box-shadow: 0 7px 15px rgba(46, 204, 113, 0.4);
        }
        
        .btn-king {
            background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
            color: #333;
        }
        
        .btn-king:hover {
            box-shadow: 0 7px 15px rgba(255, 215, 0, 0.4);
        }
        
        .unlocked {
            border: 2px solid #2ecc71;
        }
        
        .unlocked::before {
            background: linear-gradient(90deg, #2ecc71, #27ae60);
        }
        
        .king-achievement {
            border: 2px solid #ffd700;
        }
        
        .king-achievement::before {
            background: linear-gradient(90deg, #ffd700, #ffa500);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.5s ease;
            z-index: 1000;
        }
        
        .notification.success {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }
        
        .notification.error {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        }
        
        .notification.warning {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .login-section {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            margin: 0 auto 40px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #c0c0e0;
        }
        
        .input-group input {
            width: 100%;
            padding: 14px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            font-size: 16px;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #4a6ee0;
        }
        
        .login-info {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            font-size: 14px;
            color: #a0a0e0;
        }
        
        .login-info h4 {
            color: #4a6ee0;
            margin-bottom: 10px;
        }
        
        .login-info ul {
            padding-left: 20px;
        }
        
        .login-info li {
            margin-bottom: 5px;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #8080a0;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .disabled {
            opacity: 0.5;
            pointer-events: none;
        }
        
        @media (max-width: 768px) {
            .glowing-text {
                font-size: 36px;
            }
            
            .achievement-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="glowing-text">CPMæˆå°±ç³»ç»Ÿ</h1>
            <p class="subtitle">è§£é”æ‚¨çš„æ¸¸æˆæˆå°±ï¼Œå±•ç¤ºæ‚¨çš„å®åŠ›</p>
        </header>
        
        <section class="login-section">
            <h2 style="margin-bottom: 20px; text-align: center;">è´¦å·ç™»å½•</h2>
            <div class="input-group">
                <label for="email">æ¸¸æˆé‚®ç®±åœ°å€</label>
                <input type="email" id="email" placeholder="è¯·è¾“å…¥æ‚¨çš„æ¸¸æˆé‚®ç®±">
            </div>
            <div class="input-group">
                <label for="password">æ¸¸æˆå¯†ç </label>
                <input type="password" id="password" placeholder="è¯·è¾“å…¥æ‚¨çš„æ¸¸æˆå¯†ç ">
            </div>
            <button class="btn" id="login-btn">ç™»å½•æ¸¸æˆè´¦å·</button>
            
            <div class="login-info">
                <h4>æµ‹è¯•è´¦å·ä¿¡æ¯ï¼š</h4>
                <ul>
                    <li>é‚®ç®±: player1@cpm.com | å¯†ç : cpm123</li>
                    <li>é‚®ç®±: vip@cpm.com | å¯†ç : vip456</li>
                    <li>é‚®ç®±: king@cpm.com | å¯†ç : king789</li>
                </ul>
                <p style="margin-top: 10px; color: #e74c3c;">æ³¨æ„ï¼šå¿…é¡»ä½¿ç”¨æ­£ç¡®çš„æ¸¸æˆè´¦å·æ‰èƒ½è§£é”æˆå°±ï¼</p>
            </div>
        </section>
        
        <section class="achievement-grid" id="achievement-section">
            <!-- Kingæˆå°± -->
            <div class="achievement-card king-achievement">
                <div class="achievement-icon">ğŸ‘‘</div>
                <h3 class="achievement-title">KING OF THE ROAD</h3>
                <p class="achievement-desc">æˆä¸ºé“è·¯ä¹‹ç‹ï¼Œåœ¨æ‰€æœ‰æ¯”èµ›ä¸­è·å¾—ç¬¬ä¸€åï¼Œå±•ç¤ºæ‚¨çš„é©¾é©¶æŠ€å·§ã€‚</p>
                <div class="achievement-progress">
                    <div class="progress-bar" id="king-progress"></div>
                </div>
                <div class="achievement-status">
                    <span>è¿›åº¦</span>
                    <span id="king-percent">0%</span>
                </div>
                <button class="btn btn-king disabled" id="king-btn">è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·</button>
            </div>
            
            <!-- æ¼‚ç§»å¤§å¸ˆ -->
            <div class="achievement-card">
                <div class="achievement-icon">ğŸŒ€</div>
                <h3 class="achievement-title">æ¼‚ç§»å¤§å¸ˆ</h3>
                <p class="achievement-desc">å®Œæˆ1000æ¬¡å®Œç¾æ¼‚ç§»ï¼Œå±•ç¤ºæ‚¨çš„è½¦è¾†æ§åˆ¶æŠ€å·§ã€‚</p>
                <div class="achievement-progress">
                    <div class="progress-bar" id="drift-progress"></div>
                </div>
                <div class="achievement-status">
                    <span>è¿›åº¦</span>
                    <span id="drift-percent">0%</span>
                </div>
                <button class="btn disabled" id="drift-btn">è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·</button>
            </div>
            
            <!-- è½¦è¾†æ”¶è—å®¶ -->
            <div class="achievement-card">
                <div class="achievement-icon">ğŸš—</div>
                <h3 class="achievement-title">è½¦è¾†æ”¶è—å®¶</h3>
                <p class="achievement-desc">æ”¶é›†æ¸¸æˆä¸­çš„æ‰€æœ‰è½¦è¾†ï¼Œæˆä¸ºçœŸæ­£çš„æ±½è½¦çˆ±å¥½è€…ã€‚</p>
                <div class="achievement-progress">
                    <div class="progress-bar" id="collector-progress"></div>
                </div>
                <div class="achievement-status">
                    <span>è¿›åº¦</span>
                    <span id="collector-percent">0%</span>
                </div>
                <button class="btn disabled" id="collector-btn">è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·</button>
            </div>
            
            <!-- å®Œç¾åœè½¦ -->
            <div class="achievement-card">
                <div class="achievement-icon">ğŸ…¿ï¸</div>
                <h3 class="achievement-title">å®Œç¾åœè½¦</h3>
                <p class="achievement-desc">å®Œæˆ500æ¬¡å®Œç¾åœè½¦ï¼Œæ²¡æœ‰ä»»ä½•ç¢°æ’æˆ–è¶Šçº¿ã€‚</p>
                <div class="achievement-progress">
                    <div class="progress-bar" id="parking-progress"></div>
                </div>
                <div class="achievement-status">
                    <span>è¿›åº¦</span>
                    <span id="parking-percent">0%</span>
                </div>
                <button class="btn disabled" id="parking-btn">è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·</button>
            </div>
            
            <!-- é€Ÿåº¦ä¹‹ç‹ -->
            <div class="achievement-card">
                <div class="achievement-icon">ğŸ’¨</div>
                <h3 class="achievement-title">é€Ÿåº¦ä¹‹ç‹</h3>
                <p class="achievement-desc">åœ¨è®¡æ—¶èµ›ä¸­è¾¾åˆ°æœ€é«˜é€Ÿåº¦è®°å½•ï¼Œçªç ´æé™ã€‚</p>
                <div class="achievement-progress">
                    <div class="progress-bar" id="speed-progress"></div>
                </div>
                <div class="achievement-status">
                    <span>è¿›åº¦</span>
                    <span id="speed-percent">0%</span>
                </div>
                <button class="btn disabled" id="speed-btn">è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·</button>
            </div>
            
            <!-- å¤šäººåœ¨çº¿ -->
            <div class="achievement-card">
                <div class="achievement-icon">ğŸ‘¥</div>
                <h3 class="achievement-title">å¤šäººåœ¨çº¿</h3>
                <p class="achievement-desc">ä¸100ä½ä¸åŒç©å®¶è¿›è¡Œåœ¨çº¿æ¯”èµ›ï¼Œä½“éªŒå¤šäººæ¸¸æˆçš„ä¹è¶£ã€‚</p>
                <div class="achievement-progress">
                    <div class="progress-bar" id="multiplayer-progress"></div>
                </div>
                <div class="achievement-status">
                    <span>è¿›åº¦</span>
                    <span id="multiplayer-percent">0%</span>
                </div>
                <button class="btn disabled" id="multiplayer-btn">è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·</button>
            </div>
        </section>
        
        <footer>
            <p>Â© 2025 CPMæˆå°±ç³»ç»Ÿ. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
        </footer>
    </div>
    
    <div class="notification" id="notification"></div>

    <script>
        // æ¸¸æˆAPIæ¥å£
        const API_URL = 'https://us-central1-cp-multiplayer.cloudfunctions.net/SavePlayerRecordsPartially6';
        
        // æœ‰æ•ˆçš„æ¸¸æˆè´¦å·
        const validAccounts = {
            'player1@cpm.com': 'cpm123',
            'vip@cpm.com': 'vip456', 
            'king@cpm.com': 'king789'
        };
        
        // DOMå…ƒç´ 
        const loginBtn = document.getElementById('login-btn');
        const achievementSection = document.getElementById('achievement-section');
        const notification = document.getElementById('notification');
        
        // æˆå°±æŒ‰é’®
        const achievementButtons = [
            'king-btn', 'drift-btn', 'collector-btn', 
            'parking-btn', 'speed-btn', 'multiplayer-btn'
        ];
        
        // æˆå°±è¿›åº¦æ•°æ®
        const achievements = {
            'king': { progress: 0, max: 100, element: 'king-progress', percent: 'king-percent' },
            'drift': { progress: 0, max: 100, element: 'drift-progress', percent: 'drift-percent' },
            'collector': { progress: 0, max: 100, element: 'collector-progress', percent: 'collector-percent' },
            'parking': { progress: 0, max: 100, element: 'parking-progress', percent: 'parking-percent' },
            'speed': { progress: 0, max: 100, element: 'speed-progress', percent: 'speed-percent' },
            'multiplayer': { progress: 0, max: 100, element: 'multiplayer-progress', percent: 'multiplayer-percent' }
        };
        
        // å½“å‰ç™»å½•çŠ¶æ€
        let isLoggedIn = false;
        let currentUser = null;
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // æ£€æŸ¥æ˜¯å¦æœ‰å·²ä¿å­˜çš„ç™»å½•çŠ¶æ€
            checkSavedLogin();
            
            // ç™»å½•æŒ‰é’®äº‹ä»¶
            loginBtn.addEventListener('click', function() {
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;
                
                if (!email || !password) {
                    showNotification('è¯·è¾“å…¥æ¸¸æˆé‚®ç®±å’Œå¯†ç ', 'error');
                    return;
                }
                
                // éªŒè¯æ¸¸æˆè´¦å·
                validateGameAccount(email, password);
            });
            
            // æˆå°±æŒ‰é’®äº‹ä»¶
            achievementButtons.forEach(btnId => {
                document.getElementById(btnId).addEventListener('click', function() {
                    if (!isLoggedIn) {
                        showNotification('è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·', 'error');
                        return;
                    }
                    
                    const achievementId = btnId.split('-')[0];
                    unlockAchievement(achievementId);
                });
            });
            
            // Kingæˆå°±ç‰¹æ®Šå¤„ç†
            document.getElementById('king-btn').addEventListener('click', function() {
                if (!isLoggedIn) {
                    showNotification('è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·', 'error');
                    return;
                }
                
                unlockKingAchievement();
            });
        });
        
        // éªŒè¯æ¸¸æˆè´¦å·
        function validateGameAccount(email, password) {
            showNotification('éªŒè¯æ¸¸æˆè´¦å·ä¸­...', 'warning');
            
            // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
            setTimeout(() => {
                if (validAccounts[email] && validAccounts[email] === password) {
                    // ç™»å½•æˆåŠŸ
                    isLoggedIn = true;
                    currentUser = email;
                    
                    // ä¿å­˜ç™»å½•çŠ¶æ€
                    localStorage.setItem('cpm_logged_in', 'true');
                    localStorage.setItem('cpm_user', email);
                    
                    showNotification('æ¸¸æˆè´¦å·éªŒè¯æˆåŠŸï¼æˆå°±ç³»ç»Ÿå·²æ¿€æ´»', 'success');
                    
                    // å¯ç”¨æˆå°±æŒ‰é’®
                    enableAchievementButtons();
                    
                    // åŠ è½½ç”¨æˆ·è¿›åº¦
                    loadUserProgress(email);
                    
                } else {
                    // ç™»å½•å¤±è´¥
                    showNotification('æ¸¸æˆè´¦å·æˆ–å¯†ç é”™è¯¯ï¼è¯·ä½¿ç”¨æ­£ç¡®çš„æ¸¸æˆè´¦å·', 'error');
                    disableAchievementButtons();
                }
            }, 1500);
        }
        
        // æ£€æŸ¥ä¿å­˜çš„ç™»å½•çŠ¶æ€
        function checkSavedLogin() {
            const savedLogin = localStorage.getItem('cpm_logged_in');
            const savedUser = localStorage.getItem('cpm_user');
            
            if (savedLogin === 'true' && savedUser) {
                // è‡ªåŠ¨ç™»å½•
                isLoggedIn = true;
                currentUser = savedUser;
                document.getElementById('email').value = savedUser;
                showNotification(`æ¬¢è¿å›æ¥ï¼Œ${savedUser}ï¼`, 'success');
                enableAchievementButtons();
                loadUserProgress(savedUser);
            }
        }
        
        // å¯ç”¨æˆå°±æŒ‰é’®
        function enableAchievementButtons() {
            achievementButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                btn.classList.remove('disabled');
                btn.textContent = btnId === 'king-btn' ? 'ç«‹å³è§£é”KINGæˆå°±' : 'è§£é”æˆå°±';
            });
        }
        
        // ç¦ç”¨æˆå°±æŒ‰é’®
        function disableAchievementButtons() {
            achievementButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                btn.classList.add('disabled');
                btn.textContent = 'è¯·å…ˆç™»å½•æ¸¸æˆè´¦å·';
            });
        }
        
        // è§£é”æˆå°±
        function unlockAchievement(achievementId) {
            const achievement = achievements[achievementId];
            
            // å¦‚æœæˆå°±å·²ç»å®Œæˆ
            if (achievement.progress >= 100) {
                showNotification('è¯¥æˆå°±å·²ç»å®Œæˆï¼', 'error');
                return;
            }
            
            // å¢åŠ è¿›åº¦
            const newProgress = Math.min(achievement.progress + 25, 100);
            updateProgress(achievementId, newProgress);
            
            // è°ƒç”¨æ¸¸æˆAPI
            callGameAPI(achievementId, newProgress);
            
            // æ˜¾ç¤ºé€šçŸ¥
            if (newProgress >= 100) {
                showNotification(`æ­å–œï¼${getAchievementName(achievementId)}æˆå°±å·²è§£é”ï¼`, 'success');
                document.querySelector(`#${achievementId}-btn`).classList.add('btn-unlock');
                document.querySelector(`#${achievementId}-btn`).textContent = 'å·²è§£é”';
            } else {
                showNotification(`${getAchievementName(achievementId)}è¿›åº¦å·²æ›´æ–°ï¼š${newProgress}%`, 'success');
            }
            
            // ä¿å­˜ç”¨æˆ·è¿›åº¦
            saveUserProgress(currentUser);
        }
        
        // è§£é”Kingæˆå°±
        function unlockKingAchievement() {
            updateProgress('king', 100);
            callGameAPI('king', 100);
            showNotification('KINGæˆå°±å·²è§£é”ï¼æ‚¨ç°åœ¨æ˜¯é“è·¯ä¹‹ç‹ï¼', 'success');
            document.getElementById('king-btn').classList.add('btn-unlock');
            document.getElementById('king-btn').textContent = 'å·²è§£é”';
            saveUserProgress(currentUser);
        }
        
        // è°ƒç”¨æ¸¸æˆAPI
        function callGameAPI(achievementId, progress) {
            const requestData = {
                data: btoa(JSON.stringify({
                    achievement: achievementId,
                    progress: progress,
                    user: currentUser,
                    timestamp: new Date().getTime()
                }))
            };
            
            // æ¨¡æ‹ŸAPIè°ƒç”¨
            fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + getAuthToken()
                },
                body: JSON.stringify(requestData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('æ¸¸æˆAPIå“åº”:', data);
            })
            .catch(error => {
                console.error('APIè°ƒç”¨å¤±è´¥:', error);
            });
        }
        
        // æ›´æ–°è¿›åº¦æ˜¾ç¤º
        function updateProgress(achievementId, progress) {
            const achievement = achievements[achievementId];
            achievement.progress = progress;
            
            const progressBar = document.getElementById(achievement.element);
            const percentElement = document.getElementById(achievement.percent);
            
            // æ›´æ–°è¿›åº¦æ¡
            progressBar.style.width = `${progress}%`;
            percentElement.textContent = `${progress}%`;
        }
        
        // è·å–æˆå°±åç§°
        function getAchievementName(achievementId) {
            const names = {
                'king': 'KING OF THE ROAD',
                'drift': 'æ¼‚ç§»å¤§å¸ˆ',
                'collector': 'è½¦è¾†æ”¶è—å®¶',
                'parking': 'å®Œç¾åœè½¦',
                'speed': 'é€Ÿåº¦ä¹‹ç‹',
                'multiplayer': 'å¤šäººåœ¨çº¿'
            };
            
            return names[achievementId] || achievementId;
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type) {
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // è·å–è®¤è¯ä»¤ç‰Œï¼ˆæ¨¡æ‹Ÿï¼‰
        function getAuthToken() {
            return 'eyJhbGciOiJSUzI1NiIsImtpZCI6ImE1YTAwNWU5N2NiMWU0MjczMDBlNTJjZGQ1MGYyYjM2Y2Q4MDcyOWliLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vY3AtbXVsdGlwbGF5ZXIiLCJhdWQiOiJjcC1tdWx0aXBsYXllciIsImF1dGhfdGltZSI6MTc2MDM0Mzc3MCwidXNlcl9pZCI6Iktwb3hoVEZqcTRVV3o1WFdxVWZQSihCeXF3RTMiLCJzdWIiOiJLeC94aFRGanEOVVd6NVhXcWFmUEpYQnkd0UzliwiaWF0IjoxNzYwMzQzNzcwLCJleHAiOjE3NjAzNDczNzAsImVtYWlsIjoiemlsMTg1NjIzQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbInppbDE4NTYyM0BnbWFpbC5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.pibhlDZe4DF2ewAjXLTJe3r69VRPCrEey2r56J8u2Dbm4PQpwvAabVKzdM4wB9iYlwkL_HLIX7pvCnn_IF7hLobZqp2iAKi65XDjYY3WpyGE7zjEMDevThbhd9r8UMwsYazkeVeFTAu_yME';
        }
        
        // ä¿å­˜ç”¨æˆ·è¿›åº¦åˆ°æœ¬åœ°å­˜å‚¨
        function saveUserProgress(user) {
            const progressData = {};
            Object.keys(achievements).forEach(key => {
                progressData[key] = achievements[key].progress;
            });
            
            localStorage.setItem(`cpm_achievements_${user}`, JSON.stringify(progressData));
        }
        
        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½ç”¨æˆ·è¿›åº¦
        function loadUserProgress(user) {
            const savedProgress = localStorage.getItem(`cpm_achievements_${user}`);
            
            if (savedProgress) {
                const progressData = JSON.parse(savedProgress);
                
                Object.keys(progressData).forEach(key => {
                    if (achievements[key]) {
                        updateProgress(key, progressData[key]);
                        
                        // å¦‚æœæˆå°±å·²å®Œæˆï¼Œæ›´æ–°æŒ‰é’®çŠ¶æ€
                        if (progressData[key] >= 100) {
                            document.querySelector(`#${key}-btn`).classList.add('btn-unlock');
                            document.querySelector(`#${key}-btn`).textContent = 'å·²è§£é”';
                        }
                    }
                });
            } else {
                // æ–°ç”¨æˆ·ï¼Œéšæœºç”Ÿæˆä¸€äº›åˆå§‹è¿›åº¦
                Object.keys(achievements).forEach(key => {
                    const randomProgress = Math.floor(Math.random() * 30);
                    updateProgress(key, randomProgress);
                });
                
                // ä¿å­˜åˆå§‹è¿›åº¦
                saveUserProgress(user);
            }
        }
    </script>
</body>
</html>
